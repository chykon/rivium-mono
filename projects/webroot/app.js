import * as memory from './memory.js';
import * as common from './common.js';
import * as vcore from './vcore.js';
import * as asm from './assembler.js';
// hub & connector //
const mem = new memory.Memory(common.Xlen.word, common.Vcount.one, common.Mrcount.default, common.Mempow.min);
const core = new vcore.Vcore(mem, common.Vnum.zero, common.Ialign.word, common.Ilen.word);
const textArea = document.createElement('textarea');
const textAreaMachineCode = document.createElement('textarea');
const tableRegs = document.createElement('table');
const tableMem = document.createElement('table');
export function main() {
    // editor //
    textArea.cols = 75;
    textArea.rows = 25;
    textArea.spellcheck = false;
    textArea.value =
        '; let i = 0 ' + '\n' +
            '; let shft = 1 ' + '\n' +
            '; let memStart = 1024' + '\n' +
            '; while (i !== 8) {' + '\n' +
            ';   mem[memStart + i] = shft << i' + '\n' +
            ';   ++i' + '\n' +
            '; }' + '\n' +
            'addi x1,x1,0' + '\n' +
            'addi x10,x10,8' + '\n' +
            'addi x2,x2,1' + '\n' +
            'addi x3,x3,1024' + '\n' +
            'add x4,x3,x1' + '\n' +
            'sll x5,x2,x1' + '\n' +
            'sb x4,x5,0' + '\n' +
            'addi x1,x1,1' + '\n' +
            'bne x1,x10,-16' + '\n';
    document.body.appendChild(textArea);
    const editorButton = document.createElement('button');
    editorButton.innerText = 'assembly & run';
    editorButton.onclick = runAssembly;
    document.body.appendChild(editorButton);
    textAreaMachineCode.cols = 75;
    textAreaMachineCode.rows = 25;
    textAreaMachineCode.spellcheck = false;
    document.body.appendChild(textAreaMachineCode);
    // debugger //
    // registers
    const regs = [];
    for (let i = 0; i < 33; ++i) {
        regs.push(core.getRegisterValue(i, true));
    }
    tableRegs.style.border = '1px solid black';
    for (let i = 0; i < regs.length; ++i) {
        const tr = tableRegs.insertRow();
        let regName = '';
        if (i === regs.length - 1) {
            regName = 'pc';
        }
        else {
            regName = 'x' + i.toString(10);
        }
        const regValue = regs[i];
        const tdName = tr.insertCell();
        const tdValue = tr.insertCell();
        tdName.appendChild(document.createTextNode(regName));
        tdValue.appendChild(document.createTextNode(regValue.toString(10)));
    }
    document.body.appendChild(tableRegs);
    // memory
    const memo = [];
    for (let i = 0; i < mem.length; ++i) {
        memo.push(mem.getByte(i));
    }
    tableMem.style.border = '1px solid black';
    for (let i = 0; i < memo.length / 10; ++i) {
        const tr = tableMem.insertRow();
        const memAddr = i.toString(10);
        const memValue = memo[i].toString(10);
        const tdAddr = tr.insertCell();
        const tdValue = tr.insertCell();
        tdAddr.appendChild(document.createTextNode(memAddr));
        tdValue.appendChild(document.createTextNode(memValue));
    }
    document.body.appendChild(tableMem);
}
function runAssembly() {
    const machineCode = asm.assembly(textArea.value, core);
    for (let i = 0; i < machineCode.length; ++i) {
        mem.setByte(i, machineCode[i]);
    }
    textAreaMachineCode.value = '';
    for (let i = 0; i < machineCode.length; i += 4) {
        let instruction = 0;
        instruction |= machineCode[i + 0] * (2 ** 0);
        instruction |= machineCode[i + 1] * (2 ** 8);
        instruction |= machineCode[i + 2] * (2 ** 16);
        instruction |= machineCode[i + 3] * (2 ** 24);
        textAreaMachineCode.value += ((instruction >>> 0).toString(2)).padStart(32, '0') + '\n';
    }
    while (true) {
        try {
            core.fetchInstruction();
        }
        catch (error) {
            // regs
            const regs = [];
            for (let i = 0; i < 33; ++i) {
                regs.push(core.getRegisterValue(i, true));
            }
            for (let i = 0; i < regs.length; ++i) {
                const row = tableRegs.rows[i];
                if (row === undefined)
                    throw Error();
                if (row.cells[1] === undefined)
                    throw Error();
                row.cells[1].innerHTML = regs[i].toString(10);
            }
            // mem
            const memo = [];
            for (let i = 0; i < mem.length; ++i) {
                memo.push(mem.getByte(i));
            }
            for (let i = 0; i < memo.length / 10; ++i) {
                const row = tableMem.rows[i];
                if (row === undefined)
                    throw Error();
                if (row.cells[1] === undefined)
                    throw Error();
                row.cells[1].innerHTML = memo[i].toString(10);
            }
            console.log(core.getRegisterValue(3));
            console.log(core.getRegisterValue(6));
            core.setRegisterValue(vcore.Regs.x0, 0);
            core.setRegisterValue(vcore.Regs.x1, 0);
            core.setRegisterValue(vcore.Regs.x2, 0);
            core.setRegisterValue(vcore.Regs.x3, 0);
            core.setRegisterValue(vcore.Regs.x4, 0);
            core.setRegisterValue(vcore.Regs.x5, 0);
            core.setRegisterValue(vcore.Regs.x6, 0);
            core.setRegisterValue(vcore.Regs.x7, 0);
            core.setRegisterValue(vcore.Regs.x8, 0);
            core.setRegisterValue(vcore.Regs.x9, 0);
            core.setRegisterValue(vcore.Regs.x10, 0);
            core.setRegisterValue(vcore.Regs.x11, 0);
            core.setRegisterValue(vcore.Regs.x12, 0);
            core.setRegisterValue(vcore.Regs.x13, 0);
            core.setRegisterValue(vcore.Regs.x14, 0);
            core.setRegisterValue(vcore.Regs.x15, 0);
            core.setRegisterValue(vcore.Regs.x16, 0);
            core.setRegisterValue(vcore.Regs.x17, 0);
            core.setRegisterValue(vcore.Regs.x18, 0);
            core.setRegisterValue(vcore.Regs.x19, 0);
            core.setRegisterValue(vcore.Regs.x20, 0);
            core.setRegisterValue(vcore.Regs.x21, 0);
            core.setRegisterValue(vcore.Regs.x22, 0);
            core.setRegisterValue(vcore.Regs.x23, 0);
            core.setRegisterValue(vcore.Regs.x24, 0);
            core.setRegisterValue(vcore.Regs.x25, 0);
            core.setRegisterValue(vcore.Regs.x26, 0);
            core.setRegisterValue(vcore.Regs.x27, 0);
            core.setRegisterValue(vcore.Regs.x28, 0);
            core.setRegisterValue(vcore.Regs.x29, 0);
            core.setRegisterValue(vcore.Regs.x30, 0);
            core.setRegisterValue(vcore.Regs.x31, 0);
            core.setRegisterValue(vcore.Regs.pc, 0, true);
            core.setRegisterValue(vcore.Regs.ppc, 0, true);
            throw error;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssTUFBTSxNQUFNLGFBQWEsQ0FBQTtBQUNyQyxPQUFPLEtBQUssTUFBTSxNQUFNLGFBQWEsQ0FBQTtBQUNyQyxPQUFPLEtBQUssS0FBSyxNQUFNLFlBQVksQ0FBQTtBQUNuQyxPQUFPLEtBQUssR0FBRyxNQUFNLGdCQUFnQixDQUFBO0FBRXJDLHFCQUFxQjtBQUVyQixNQUFNLEdBQUcsR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUNoQixNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFDakIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQ3RCLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUNsQixDQUFBO0FBQ0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0FBRXpGLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDbkQsTUFBTSxtQkFBbUIsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBRTlELE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDakQsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUVoRCxNQUFNLFVBQVUsSUFBSTtJQUNsQixZQUFZO0lBRVosUUFBUSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUE7SUFDbEIsUUFBUSxDQUFDLElBQUksR0FB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U0FBUztvQkFBRSxNQUFNLEtBQUssRUFBRSxDQUFBO2dCQUM3QyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsR0FBSSxJQUFJLENBQUMsQ0FBQyxDQUFZLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFBO2FBQzFEO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3JDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDdkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDdkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDdkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQTtZQUM3QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQzlDLE1BQU0sS0FBSyxDQUFBO1NBQ1o7S0FDRjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtZW1vcnkgZnJvbSAnLi9tZW1vcnkuanMnXG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9jb21tb24uanMnXG5pbXBvcnQgKiBhcyB2Y29yZSBmcm9tICcuL3Zjb3JlLmpzJ1xuaW1wb3J0ICogYXMgYXNtIGZyb20gJy4vYXNzZW1ibGVyLmpzJ1xuXG4vLyBodWIgJiBjb25uZWN0b3IgLy9cblxuY29uc3QgbWVtID0gbmV3IG1lbW9yeS5NZW1vcnkoXG4gIGNvbW1vbi5YbGVuLndvcmQsXG4gIGNvbW1vbi5WY291bnQub25lLFxuICBjb21tb24uTXJjb3VudC5kZWZhdWx0LFxuICBjb21tb24uTWVtcG93Lm1pblxuKVxuY29uc3QgY29yZSA9IG5ldyB2Y29yZS5WY29yZShtZW0sIGNvbW1vbi5WbnVtLnplcm8sIGNvbW1vbi5JYWxpZ24ud29yZCwgY29tbW9uLklsZW4ud29yZClcblxuY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpXG5jb25zdCB0ZXh0QXJlYU1hY2hpbmVDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKVxuXG5jb25zdCB0YWJsZVJlZ3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpXG5jb25zdCB0YWJsZU1lbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJylcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4gKCk6IHZvaWQge1xuICAvLyBlZGl0b3IgLy9cblxuICB0ZXh0QXJlYS5jb2xzID0gNzVcbiAgdGV4dEFyZWEucm93cyA9IDI1XG4gIHRleHRBcmVhLnNwZWxsY2hlY2sgPSBmYWxzZVxuICB0ZXh0QXJlYS52YWx1ZSA9XG4gICAgJzsgbGV0IGkgPSAwICcgKyAnXFxuJyArXG4gICAgJzsgbGV0IHNoZnQgPSAxICcgKyAnXFxuJyArXG4gICAgJzsgbGV0IG1lbVN0YXJ0ID0gMTAyNCcgKyAnXFxuJyArXG4gICAgJzsgd2hpbGUgKGkgIT09IDgpIHsnICsgJ1xcbicgK1xuICAgICc7ICAgbWVtW21lbVN0YXJ0ICsgaV0gPSBzaGZ0IDw8IGknICsgJ1xcbicgK1xuICAgICc7ICAgKytpJyArICdcXG4nICtcbiAgICAnOyB9JyArICdcXG4nICtcbiAgICAnYWRkaSB4MSx4MSwwJyArICdcXG4nICtcbiAgICAnYWRkaSB4MTAseDEwLDgnICsgJ1xcbicgK1xuICAgICdhZGRpIHgyLHgyLDEnICsgJ1xcbicgK1xuICAgICdhZGRpIHgzLHgzLDEwMjQnICsgJ1xcbicgK1xuICAgICdhZGQgeDQseDMseDEnICsgJ1xcbicgK1xuICAgICdzbGwgeDUseDIseDEnICsgJ1xcbicgK1xuICAgICdzYiB4NCx4NSwwJyArICdcXG4nICtcbiAgICAnYWRkaSB4MSx4MSwxJyArICdcXG4nICtcbiAgICAnYm5lIHgxLHgxMCwtMTYnICsgJ1xcbidcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSlcbiAgY29uc3QgZWRpdG9yQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgZWRpdG9yQnV0dG9uLmlubmVyVGV4dCA9ICdhc3NlbWJseSAmIHJ1bidcbiAgZWRpdG9yQnV0dG9uLm9uY2xpY2sgPSBydW5Bc3NlbWJseVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVkaXRvckJ1dHRvbilcbiAgdGV4dEFyZWFNYWNoaW5lQ29kZS5jb2xzID0gNzVcbiAgdGV4dEFyZWFNYWNoaW5lQ29kZS5yb3dzID0gMjVcbiAgdGV4dEFyZWFNYWNoaW5lQ29kZS5zcGVsbGNoZWNrID0gZmFsc2VcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYU1hY2hpbmVDb2RlKVxuXG4gIC8vIGRlYnVnZ2VyIC8vXG5cbiAgLy8gcmVnaXN0ZXJzXG4gIGNvbnN0IHJlZ3M6IG51bWJlcltdID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMzsgKytpKSB7XG4gICAgcmVncy5wdXNoKGNvcmUuZ2V0UmVnaXN0ZXJWYWx1ZShpLCB0cnVlKSlcbiAgfVxuICB0YWJsZVJlZ3Muc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCBibGFjaydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWdzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgdHIgPSB0YWJsZVJlZ3MuaW5zZXJ0Um93KClcbiAgICBsZXQgcmVnTmFtZSA9ICcnXG4gICAgaWYgKGkgPT09IHJlZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgcmVnTmFtZSA9ICdwYydcbiAgICB9IGVsc2Uge1xuICAgICAgcmVnTmFtZSA9ICd4JyArIGkudG9TdHJpbmcoMTApXG4gICAgfVxuICAgIGNvbnN0IHJlZ1ZhbHVlID0gcmVnc1tpXSBhcyBudW1iZXJcbiAgICBjb25zdCB0ZE5hbWUgPSB0ci5pbnNlcnRDZWxsKClcbiAgICBjb25zdCB0ZFZhbHVlID0gdHIuaW5zZXJ0Q2VsbCgpXG4gICAgdGROYW1lLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJlZ05hbWUpKVxuICAgIHRkVmFsdWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocmVnVmFsdWUudG9TdHJpbmcoMTApKSlcbiAgfVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRhYmxlUmVncylcbiAgLy8gbWVtb3J5XG4gIGNvbnN0IG1lbW86IG51bWJlcltdID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW0ubGVuZ3RoOyArK2kpIHtcbiAgICBtZW1vLnB1c2gobWVtLmdldEJ5dGUoaSkpXG4gIH1cbiAgdGFibGVNZW0uc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCBibGFjaydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW1vLmxlbmd0aCAvIDEwOyArK2kpIHtcbiAgICBjb25zdCB0ciA9IHRhYmxlTWVtLmluc2VydFJvdygpXG4gICAgY29uc3QgbWVtQWRkciA9IGkudG9TdHJpbmcoMTApXG4gICAgY29uc3QgbWVtVmFsdWUgPSAobWVtb1tpXSBhcyBudW1iZXIpLnRvU3RyaW5nKDEwKVxuICAgIGNvbnN0IHRkQWRkciA9IHRyLmluc2VydENlbGwoKVxuICAgIGNvbnN0IHRkVmFsdWUgPSB0ci5pbnNlcnRDZWxsKClcbiAgICB0ZEFkZHIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobWVtQWRkcikpXG4gICAgdGRWYWx1ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtZW1WYWx1ZSkpXG4gIH1cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWJsZU1lbSlcbn1cblxuZnVuY3Rpb24gcnVuQXNzZW1ibHkgKCk6IHZvaWQge1xuICBjb25zdCBtYWNoaW5lQ29kZSA9IGFzbS5hc3NlbWJseSh0ZXh0QXJlYS52YWx1ZSwgY29yZSlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYWNoaW5lQ29kZS5sZW5ndGg7ICsraSkge1xuICAgIG1lbS5zZXRCeXRlKGksIG1hY2hpbmVDb2RlW2ldIGFzIG51bWJlcilcbiAgfVxuICB0ZXh0QXJlYU1hY2hpbmVDb2RlLnZhbHVlID0gJydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYWNoaW5lQ29kZS5sZW5ndGg7IGkgKz0gNCkge1xuICAgIGxldCBpbnN0cnVjdGlvbiA9IDBcbiAgICBpbnN0cnVjdGlvbiB8PSAobWFjaGluZUNvZGVbaSArIDBdIGFzIG51bWJlcikgKiAoMiAqKiAwKVxuICAgIGluc3RydWN0aW9uIHw9IChtYWNoaW5lQ29kZVtpICsgMV0gYXMgbnVtYmVyKSAqICgyICoqIDgpXG4gICAgaW5zdHJ1Y3Rpb24gfD0gKG1hY2hpbmVDb2RlW2kgKyAyXSBhcyBudW1iZXIpICogKDIgKiogMTYpXG4gICAgaW5zdHJ1Y3Rpb24gfD0gKG1hY2hpbmVDb2RlW2kgKyAzXSBhcyBudW1iZXIpICogKDIgKiogMjQpXG4gICAgdGV4dEFyZWFNYWNoaW5lQ29kZS52YWx1ZSArPSAoKGluc3RydWN0aW9uID4+PiAwKS50b1N0cmluZygyKSkucGFkU3RhcnQoMzIsICcwJykgKyAnXFxuJ1xuICB9XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvcmUuZmV0Y2hJbnN0cnVjdGlvbigpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHJlZ3NcbiAgICAgIGNvbnN0IHJlZ3M6IG51bWJlcltdID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzM7ICsraSkge1xuICAgICAgICByZWdzLnB1c2goY29yZS5nZXRSZWdpc3RlclZhbHVlKGksIHRydWUpKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlUmVncy5yb3dzW2ldIGFzIEhUTUxUYWJsZVJvd0VsZW1lbnRcbiAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBFcnJvcigpXG4gICAgICAgIGlmIChyb3cuY2VsbHNbMV0gPT09IHVuZGVmaW5lZCkgdGhyb3cgRXJyb3IoKVxuICAgICAgICByb3cuY2VsbHNbMV0uaW5uZXJIVE1MID0gKHJlZ3NbaV0gYXMgbnVtYmVyKS50b1N0cmluZygxMClcbiAgICAgIH1cbiAgICAgIC8vIG1lbVxuICAgICAgY29uc3QgbWVtbzogbnVtYmVyW10gPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgbWVtby5wdXNoKG1lbS5nZXRCeXRlKGkpKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW1vLmxlbmd0aCAvIDEwOyArK2kpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gdGFibGVNZW0ucm93c1tpXSBhcyBIVE1MVGFibGVSb3dFbGVtZW50XG4gICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgdGhyb3cgRXJyb3IoKVxuICAgICAgICBpZiAocm93LmNlbGxzWzFdID09PSB1bmRlZmluZWQpIHRocm93IEVycm9yKClcbiAgICAgICAgcm93LmNlbGxzWzFdLmlubmVySFRNTCA9IChtZW1vW2ldIGFzIG51bWJlcikudG9TdHJpbmcoMTApXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhjb3JlLmdldFJlZ2lzdGVyVmFsdWUoMykpXG4gICAgICBjb25zb2xlLmxvZyhjb3JlLmdldFJlZ2lzdGVyVmFsdWUoNikpXG4gICAgICBjb3JlLnNldFJlZ2lzdGVyVmFsdWUodmNvcmUuUmVncy54MCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxLCAwKVxuICAgICAgY29yZS5zZXRSZWdpc3RlclZhbHVlKHZjb3JlLlJlZ3MueDIsIDApXG4gICAgICBjb3JlLnNldFJlZ2lzdGVyVmFsdWUodmNvcmUuUmVncy54MywgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLng0LCAwKVxuICAgICAgY29yZS5zZXRSZWdpc3RlclZhbHVlKHZjb3JlLlJlZ3MueDUsIDApXG4gICAgICBjb3JlLnNldFJlZ2lzdGVyVmFsdWUodmNvcmUuUmVncy54NiwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLng3LCAwKVxuICAgICAgY29yZS5zZXRSZWdpc3RlclZhbHVlKHZjb3JlLlJlZ3MueDgsIDApXG4gICAgICBjb3JlLnNldFJlZ2lzdGVyVmFsdWUodmNvcmUuUmVncy54OSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxMCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxMSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxMiwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxMywgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxNCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxNSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxNiwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxNywgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxOCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngxOSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyMCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyMSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyMiwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyMywgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyNCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyNSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyNiwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyNywgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyOCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngyOSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngzMCwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLngzMSwgMClcbiAgICAgIGNvcmUuc2V0UmVnaXN0ZXJWYWx1ZSh2Y29yZS5SZWdzLnBjLCAwLCB0cnVlKVxuICAgICAgY29yZS5zZXRSZWdpc3RlclZhbHVlKHZjb3JlLlJlZ3MucHBjLCAwLCB0cnVlKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cbn1cbiJdfQ==